---
layout: post
title: "Gadfly"
date: 2015-12-31 01:00:00 +0900
comments: false
---

# はじめに
卒論の時期になりました．
私もクリスマス締め切りの卒論を書いています．


さて，卒論の実験結果や統計処理をした結果をグラフで出す必要がある方はけっこういるのではないでしょうか．

そんな方に[Gadfly](http://gadflyjl.org/)を紹介します．

実行環境はMacを前提としていますので適宜お手元の環境に読み替えてください．

# Gadflyって何？

[julia](http://julialang.org/)という技術計算向けの高速でイケてる言語の描画パッケージの1つです．

手軽にかっこいい画像が作れる上に

- SVG
- SVGJS
- PNG
- PDF
- PS
- PGF

の形式で保存できます．

nzwはPDFで出力してTeXやパワーポイントに貼り付けてることが多いです．

ちなみにGadfly以外にもいろいろとあるようです．[julia plotting](https://en.wikibooks.org/wiki/Introducing_Julia/Plotting)


# 導入

juliaの導入はhomebrewなりを使ってやるとして，juliaを起動したら以下のコマンドでGadflyをインストールします．

{% highlight julia %}
julia> Pkg.add("Gadfly")
{% endhighlight %}

インストールが成功したら，以下のコマンドを実行すればplotができるようになります．

{% highlight julia %}
julia> using Gadfly
{% endhighlight %}


あとirisのデータを例にあげることがあるので

{% highlight julia %}
Pkg.add("RDatasets")
using RDatasets
{% endhighlight %}

をあらかじめやっておきます．

# 1. 散布図
まずは簡単な散布図から．

{% highlight julia %}
plot(x=rand(13),y=rand(13))
{% endhighlight %}

![ex1]({{ site.url }}/images/gadfly1.svg)


`rand(13)`は乱数を13個生成しています．
`x`と`y`でindexが同じものを1つのデータ点としてplotしています．

基本的に`plot`関数にデータやパラメータを渡して描画する流れになります．

plotする図によってパラメータが違っていて散布図(point)であれば`color`が指定できます．

この例では，アヤメの品種によって3色にわけています．
{% highlight julia %}
plot(dataset("datasets", "iris"), x="PetalLength", y="PetalWidth", color="Species", Geom.point)
{% endhighlight %}

![ex2]({{ site.url }}/images/gadfly2.svg)

