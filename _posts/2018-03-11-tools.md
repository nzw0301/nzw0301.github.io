---
layout: post
title: 研究系で使ってるツール
comments: true
---

ナウいやつあったらぜひ教えてください。

## Github

目的：コードと LaTeX ファイル (論文) の管理・共有

- 学生だと無料で private repository を複数作れる。
  - 研究室のアカウントでも同じく private repository が作れる
- 芝でやった日とやってない日が可視化できる
- バックアップ兼用できる
- 前の研究室は研究室の repo があり、他の学生にコメントをおくるときは D. Tran の [A Research to Engineering Workflow](http://dustintran.com/blog/a-research-to-engineering-workflow) っぽく `/etc/` にコメント付きの pdf を PR で出していた
- Issue と kanban は、使おうとしたけど、使ってない

## Google Drive

目的：どのマシンを使ってるかを気にせずにファイルをやりとりしたいことと、特定のディレクトリ以下のバックアップを自動でしたいため

- Google Drive の場合は、任意のフォルダの同期にも使える。ただ、これはマシン間で独立になるので、Google Drive をローカルのディレクトリと同期させるとよい
- 作業するときはここの下でしかやらない
- 大学によっては [G suite](https://gsuite.google.com/) を配っており、google drive が容量無制限で使える
- 以前に研究室においてる PC で `latexmk -pvc` が走ってて、自宅でも `latexmk -pvc` が走って、無限にコンフリクトしたファイルが生成されたことがあるので気をつける
- [Google の colab と google drive は相性がよさそう](https://colab.research.google.com/notebooks/io.ipynb) のもあって google drive を使っている
- ちなみに、git 管理しているディレクトリも同期してるんですが、[himkt様](https://twitter.com/himkt) に、やりすぎでは、と言われたので主義で分かれそう。実際にまれにコンフリクト、revert が起こる

## Docker

目的：実行構築の再現

- 特定のソフトウェアを動かすために環境構築がめんどうで使っている
  - 個人的な体験では [`graph-tool`](https://graph-tool.skewed.de/) の依存が強かったので、使いだした
- `sudo` がないサーバーで使いにくい
  - たまにプロセスが暴走して `sudo kill` でしか殺せないとか
  - 研究室で管理しているサーバーに docker いれると事故ることがあるので、GCP や AWS の上で使ったほうがいいと思っている
    - ちなみに、事故った理由は、各々が docker image を pull したためファイル容量がなくなったため
 - これに対して [singularity](http://singularity.lbl.gov/docs-docker) っていうのがあるらしいけど試してない
- ほぼ使ってない

## Mendeley

目的：文献管理・bibtex の自動生成

- Mendeley 自体は文献管理ソフト (読んだ論文をまとめるもの)
- 保存先を Google drive に指定してるので、どの PC でも同じようにアクセス・追加可能
- BibTeX を自動で生成するので、論文を書くときにこの BibTeX ファイルを参照している
  - ただグローバルな `*.bib` ファイルを生成してるので、無関係な書誌情報も含んでおり共著者に共有しにくい。今の所は不要なエントリを削除するスクリプトを適用してから共有してる
- [Notability](https://www.gingerlabs.com/) という iPad のアプリと同期していた時期があったが、Notability を経由するとファイルサイズが増えて Mendenely の容量を圧迫するのでやめた
- MacOS のサポートが微妙（最新の OS に最新の Mendeley がインストールできないのが年単位で起こっている）

代替案で [zotero](https://www.zotero.org/) があり [better bibtex](https://retorque.re/zotero-better-bibtex/) のプラグインをインストールするとほぼ同じことができる。ただ、Mendeley はアカデミックだと200GBの容量が無料であるのに対して zotero は複数マシン間で同期できる容量が300MBしかなく、それ以上はお金を払う必要がある。学生には辛いので Mendeley を使っています。

## [Notion](https://www.notion.so/)

TODO管理や雑なメモ用。LaTeXサポートが嬉しい。機能が多いので使いこなせてないです。

## Google Scholar

目的：論文のアラートや特定の研究者の論文を探す

- 大雑把に論文を探すときは google 検索を使ってる
- 引用してる文献探すとか、ある程度狭まってきたらこれを使う
- Alert (mail通知) が便利
  - 例0) ある著者の新しい論文、例えば `Tomas Mikolov` の新しい論文を google が索引付けしたら通知
  - 例1) ある著者の任意の論文が引用した論文が出たら通知
  - 例2) ある論文が引用した論文が出たら通知
- 自分の論文/被引用数のなさに凹むことができる

## Keynote

目的：スライドとポスター作り

- テーマは [zebra 2](https://shoya.io/ja/posts/zebra-2/) を[いじったやつ](https://github.com/nzw0301/zebra-2)
- スライド公開するときは [SpeakerDeck](http://speakerdeck.com/)
  - slideshare は日本語がバグったり、サイトが重かったりするため使ってない
  - 自分のサイトに pdf ファイルを直接おいてもいい気もするんですけど、github に大きいファイルを置くのが推奨されてない

## Writing tools

### LaTeX

- LaTeX のいろいろなパッケージがはいってるので MacTeX をいれる
- エディタはなんでもいいと思う
  - ローカルで作業する場合は、 [Visual Studio Code](https://code.visualstudio.com/)

### [Overleaf](https://www.overleaf.com/)

目的：LaTeX の原稿共有

- オンラインの LaTeX 執筆環境
  - LaTeX の環境揃えるの地味にしんどいので使うことがあるので解決できる（: 先生はコンパイルできるけど、私はできないとか）
- git の URL があるので push/pull もできる
- 主要会議はテンプレがあるので、すぐに書ける
  - CV/resume とかもある
- タグがつけられるので、タグつけてからの差分がわかりやすかったりする：

1. 学生が書き終わってタグを付け
1. 共著者がコメント
1. 学生がタグを付けたところと最新との diff を確認

### [Grammarly](https://app.grammarly.com/)

目的：スペルチェック等

- 英語文法とかスペルを直してくれるサービス
- ブラウザの add-on いれるとフォームとかでも機能 (例えば github の issue)
- 課金してる
  - 課金するともう少し詳しめに直してくれる
- 過信すると死ぬ

### [Cambridge dictionary](https://dictionary.cambridge.org/)

- （イギリス）英語のオンライン辞書

### [Hyper collocation](https://hypcol.marutank.net/)

- よく共起する英語表記を探すやつ
- Google 検索もだけど、数があればいいというわけでもないので気をつける

### 論文のメモ

- iPad と Apple Pencil と [Notability](http://gingerlabs.com/)
  - [goodnotes](https://www.goodnotes.com/) 使ってる知り合いも多い
- Notability でつけたメモの同期は google drive に自動保存
  - 同期の方向が片方向なので、結局別ディレクトリにしている
- ちなみに 2018年くらいに試したときは、 Mendeley のアプリでは apple pencil が使えなかったので使ってない

## コミュニケーション

- GMail: メーラー。大学のメーラーはだいたいしょぼいので、全部のメールアカウントを gmail の一つのアカウントの画面に統一している。
- Slack: チャット。だいたいどこも使ってると思うので省略
  - 1対1の通話もこれか次のでいいかなと思います。
- [whereby](https://whereby.com/): オンラインミーティング。機能が最低限でかなり気に入ってる。海外にいる共著者との打ち合わせは常にこれ。無料アカウントだと、同時接続人数が4人なので、それ以上の場合は、Google hangouts とか好きなのを...

- zoom: SSH 研のゼミの人数が30超えるのでこれしかないさそう。そのとき以外は使ってない。
- [zulip](https://zulip.com/): LaTeX が使える。個人的には全部これになってほしい。
- Google meet: 研究室のゼミがこれ。同社の Google jamboard (同時に複数人で触れるホワイトボード) が便利
  - Mac の場合、sidecar で iPad を外部ディスプレイとしてつなぎ、Jamboard に Apple Pencil で書き込むのが楽だが、Jamboardの同期が無視できない程度にラグがある

## 作業

### TODO list

- [GitKraken](https://www.gitkraken.com/) の [GloBoard](https://www.gitkraken.com/glo) という kanban を使っている
- スマホとタブレット用のアプリもある
- 特に誰とも共有してない

以前は、以下の理由で [Google tasks](https://play.google.com/store/apps/details?id=com.google.android.apps.tasks) を使ってたんですが、変えました。ちなみに、Google tasks の利点は、

- Gmail と google calendar は画面の右側に表示できる
- スマホアプリがある
- [google keep](https://keep.google.com/) は付箋みたいな感じでこっちのほうが複雑そうなことができるが、自分はシンプルな google tasks を使ってる
  - google keep も gmail と calendar の脇に表示できる

### 作業時間とプレイリスト

全然実践できてませんが、理想系は、以下のようなスケジュールにしています。

| 開始   | 終了  | やってること |
|:-----:|:-----:|:----------:|
| 10:00 | 12:00 |    作業    |
| 12:00 | 14:00 |    休憩 ☕ |
| 14:00 | 16:00 |    作業    |
| 16:00 | 16:30 |    休憩 ☕ |
| 16:30 | 18:30 |    作業    |

以前は、次のようなポモドーロテクニックを使ってましたが、UCL 行ってたときに、向こうの同僚に合わせていたら、上記の方法に収束した。

作業時間ですが、おおよそ2時間で終わるプレイリスト（1時間たつと15分休憩用の音楽が流れる）を作って、それがなっている間は作業をするようにしているこのアイディアは Dr. 森博嗣がどこかで言及していたやり方からきています。

細かいルールとして、
- このプレイリストに入っている音楽は作業以外では聞かない
- ソーシャルメディアサイトやAmazon (メール含む) は開かない
  - 気持ちでは難しいので以下を導入してます
  - Android のスマートフォンだと focus mode という指定したアプリ以外を止める機能があるのでそれを使う。
  - Chrome では [blocksite](https://chrome.google.com/webstore/detail/blocksite-stay-focused-co/eiimnmioipafcokbfikbljfdeojpcgbh) というアドオンを入れている。これは指定したサイトを開かなくするもの

もっとアグレッシブにして、 作業用のPCの `/etc/hosts` そういった娯楽系のソーシャルメディアサイトを追加しました。

## [Pomodoro technique](https://francescocirillo.com/pages/pomodoro-technique)

- 25分作業5分休憩 x 4 して長めの休憩をとる
- 25分作業中は強い気持ちをもって作業だけする
- スタックすると考えすぎてしまうことがあるが、休みがあったり時間が意識しやすいので無駄に時間をしにくいかもしれないと思ってる
- 研究室でタイマー使うわけのも悪いので、音楽のアプリのプレイリストでやっている
- 25分1セットで4セット分用意
  - 休憩用の曲として約5分の1曲を用意して各セットの間に挟む
  - 聞きながら作業
  - 一度作ったらできるだけ曲の中身などを入れ替えない
    - 反射的に、この曲がなっているときは作業をするという条件付けをしたい
    - なので逆に作業中以外は聞かないようにする
- 5分休憩でなにしたらいいのか分からない
  - ソーシャルメディアではない気がする

## LaTeXの地味なこと

### 図

- ベクタ形式は拡大してもボケないのと、bounding box の指定をしたくないので PDF 形式を使う。
  - EPS は使ってない。詳しい理由は[このあたり](https://texwiki.texjp.org/?LaTeX%E5%85%A5%E9%96%80%2F%E5%9B%B3%E8%A1%A8#v4efe6a4)
  - 追記するメリットとしては、PDF は github で展開されるけど、 EPS は2021年の段階ではされてない
- 余白を削りたいときは [pdfcrop](https://texwiki.texjp.org/?pdfcrop)

### 表

`booktabs` の中身を `pandas` の `to_latex` か [tabulate](https://pypi.org/project/tabulate/) で生成

### その他

LaTeX のコマンドやパッケージで使い方がわからなかったら `texdoc` が便利で、例えば `natbib` がよくわからなかったら `texdoc natbib` をターミナルで実行するとマニュアルの PDF ファイルが開く。QAサイトよりもこっちのほうが解決してくれることが体感多い。
